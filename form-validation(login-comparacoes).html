<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel='stylesheet' href='css/style.css' type='text/css' />
    <title>JS tutorial practicing</title>
</head>

<body>
    <h1>Form Validation</h1>

    <section>
        <b>Breve explicação:</b>
        <p>!= Não é igual</p>
        <p>!== Não é igual nem do mesmo tipo</p>
        <p>&& Retorna true se ambas das expressões forem verdadeiras</p>
        <p>|| Retorna true se uma das opções forem verdadeira</p>
        <p>? Escreve...</p>
        <p>: Se não, escreve...</p>
        <p>isNaN(x) = não é númerico. </p>
        <p>Number(x) É uma função que converte um objeto (ou vázio) para um número que representa um valor do
            objeto. Se o valor não pode ser convertido legalmente em um número então o NaN (A non-numeric) é retornado.</p>
    </section>

    <section>
        <b>Validará usando if e alert</b>
        <br />se o campo nome for preechido, entrará no site google.com, se não alerta para preencher! e cria borda
        vermelha.
        <br /> ESCREVA no "form" o onsubmit com "return" mais nome da função.
        <br />
        <br />
        <form name="myForm" action="https://www.google.com/" method="post">
            <input type="text" name="fname" placeholder="Digite qualquer coisa">
            <input type="submit" value="Submit">
        </form>

        <script>
            document.querySelector("form[name='myForm']").addEventListener('submit', function (event) {
                var digitado = document.myForm.fname;
                if (digitado.value == "") {
                    event.preventDefault();
                    digitado.classList.add("error");
                    alert("Precisa preencher o campo");
                }
            });
        </script>
    </section>

    <section>
        <b>Simples validação do tipo login. </b>
        <br />Se validar (entra no site google.com), se os campos tiverem vazios ou diferentes, exibe alerta.
        <br /> A validação é dada com "true" ou "false" usando if, "!=", "&&" e if dentro do if
        <br /> ESCREVA no "form" o onsubmit com "return" mais nome da função.
        <br />
        <br />
        <form name="doisinput" action="https://www.google.com/" method="post" onsubmit="return validar02()">
            <input type="text" name="num1" id="num1" placeholder="Digite qualquer coisa" />
            <input type="text" name="num2" id="num2" placeholder="Repita o que foi escrito" />
            <input type="submit" value="Submit" />
        </form>

        <script>
            function validar02() {
                var valor1 = document.getElementById("num1").value;
                var valor2 = document.getElementById("num2").value;

                if (valor1 != "" && valor2 != "") {
                    if (valor1 == valor2) {
                        return true;
                    }
                }
                alert("campo vazio ou os caracteres estão diferentes");
                return false;
            };
        </script>
    </section>


    <section>
        <b>Validará com if, else, "||" e "isNaN" retorna valor valido OK </b>
        <br /> Preencha um número entre 1 e 10 para o valor ser OK:
        <br />
        <br />
        <form name="fomulario">
            <input type="text" name="valor" id="numb">
            <button type="button" onclick="myFunction()">Verificar</button>
        </form>
        <br />
        <i id="demo"></i>

        <script>
            function myFunction() {
                var numero = document.getElementById("numb").value;
                var responde = "";

                if (isNaN(numero) || numero < 1 || numero > 10) {
                    responde = "Campo vázio ou digito inválido!";
                } else {
                    responde = numero + " é válido - OK";
                }
                document.getElementById("demo").innerHTML = responde;
            };
        </script>
    </section>


    <section>
        <b>Validação com if, else, "isNaN", "?" e ":"</b>
        Converta o input vazia em um número correspondente, usando o Number(x);
        <br />
        escreva sua idade para saber se tem idade suficiente a igual 18 anos
        <br /><br />
        <form name="theform">
            <input type="text" name="age" id="age" />
            <button type="button" onclick="myFunct()">Verificar</button>
        </form>
        <br />
        <i id="demo2"></i>

        <script>
            function myFunct() {
                var idade = Number(document.getElementById("age").value);
                var declara = "";
                if (isNaN(idade)) {
                    declara = "Inválido, digite apenas números!"
                } else {
                    declara = (idade < 18) ? idade + ", " + "Você ainda não é maior de idade!" : idade + ", " + "Você é maior de idade!"
                }
                document.getElementById("demo2").innerHTML = declara;
            }
        </script>
    </section>


    <section>
        <b>SUBMIT - Validar todos os campos vázios</b>
        <br />É disparado quando o formulário entre em estado de submit ou seja enviar os dados para algum local.
        <br /><br />
        <form name="todos" action="https://www.google.com/" method="post">
            <input type="text" name="name" placeholder="Nome">
            <input type="password" name="password" placeholder="Senha">
            <input type="email" name="email" placeholder="txt@com.br">
            <button type="submit">Enter</button>
        </form><br />
        <b id="resposta"></b>

        <script>
            document.querySelector("form[name='todos']").addEventListener('submit', function (evento) {

                for (i = 0; i < this.elements.length; i++) {
                    var item = this.elements[i];

                    if (item.type !== "submit") {
                        if (item.value == "") {
                            item.classList.add("error");
                            escreve = "Preencha os campos em vermelho";
                            evento.preventDefault();
                        } else {
                            item.classList.remove("error");
                        }
                    }
                }
                document.getElementById("resposta").innerHTML = escreve;
            });
        </script>
    </section>
</body>

</html>